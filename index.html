<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap" rel="stylesheet">    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Oswald', sans-serif;
            background-color:#ddd;

        }

        div.padded {
            padding-top: 0px;
            padding-right: 100px;
            padding-bottom: 0.25in;
            padding-left: 100px;
        }

        img.three {
            width: 330px;
        }

        img.two {
            width: 400px;
        }

        ul.navbar {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #333;
        }
        li.navitem {
            display: inline;
            float: left;
        }

        li.navitem a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        li.navitem a:hover:not(.active) {
            background-color: #111;
        }

        .active {
            background-color: #ff69b4;
        }

    </style>
    <title>Smoke Simulator  |  CS 184</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>
<body>
        <ul class="navbar">
            <li class="navitem">
                <a class="active" href="index.html" title="Main page">Home</a>
            </li>
            <li class="navitem">
                <a href="simulation/index.html" title="Simulation">Simulation</a>
            </li>
        </ul>

    <h1 align="middle">2D Smoke Simulator</h1>
    <h2 align="middle">Nishant Kalonia | <a href="https://github.com/katiejk99">Katie Kim</a> | Yifan Zhang</h2>
    
    <div class="padded">
        <h2 align="middle">Overview</h2>
        <p align="justify">
            We created a smoke simulator using Three.js framework and WebGL (encapsulated within Three.js). 
            The smoke is animated using three different components - pressure, and density, and temperature. 
            Each operation that occurs changes these components, which then affects how the smoke is rendered on the screen. 

        </p>
        <h2 align="middle">Frameworks and Web Tool</h2>
        <p align="justify">
            Three.js was what we used to visualize and animate the simulation. 
            Then with the help of WebGL, a Javascript API, we were able to include our graphics in the form of a website. 
            Other tools that we used include dat.gui which created the controller to change what feature of the smoke we're colouring by (i.e. temperature, density, etc.).
        </p>
        
        <h2 align="middle">Pipeline</h2>
        <table>
            <tr>
                <td>
                    <p align="justify">
                        Every time step we update the velocity field of our simulation. 
                        The three main updates that occur to the velocity field is advection, external forces, and projection. 
                        Other fluids may also include a diffusion step (to add viscosity), but the viscosity of smoke is nearly non-existent and thus the step is skipped.       
            
                    </p>
                </td>
                <td>
                    <img src="pipeline.png" width="330px" align="middle">
                    <figcaption align="middle">visualization of our overall pipeline.</figcaption>
                </td>
            </tr>
        </table>
        
        <h2 align="middle">Shaders</h2>
		<p align="justify">
            Each operation that we implemented was represented using a fragment shader. 
            The main shaders included <i>Advection</i>, <i>External Forces</i>, and <i>Projection</i>.  
        </p>
        
        <h2 align="middle">Advection</h2>
        <p align="justify">
            Here we updated the velocity field based on the velocity field.
        </p>

        <h2 align="middle">External Forces</h2>
        <p align="justify">
            The velocity field is updated to account for any external forces acting upon the field. 
            For our case the only external force is buoyancy. 
            The buoyant force at a particular fragment is determined by a temperature and density field that is advected by the velocity field at the beginning of each time step.
        </p>

        <h2 align="middle"></h2>
        <p align="justify">
            This portion involves three steps: 
            <ol>
                <li>Compute the divergence of the velocity field.</li>
                <li>Solving the Poisson equation for pressure p using Jacobi iteration.</li>
                <li>Subtracting the Gradient of p from the velocity field.</li>
            </ol>
            
        </p>
    </div>

    
</body>
</html>